<h2>gmap</h2>
<!-- form_withはデフォルトでremote: trueの挙動になります -->
<div class = "box_text">
<%= form_with url: map_request_path, method: :get do |f|%>
  <%= f.text_field :address %>
  <%= f.submit '地図表示' %>
<% end %>
</div>

<div id="map">
</div>

<style>
#map{
  height: 400px;
}
</style>

<script>
  let mapInstance //この変数はmap.js.erbでも使うのでタイプミスに注意

  function initMap(){
    mapInstance = new google.maps.Map(document.getElementById('map'), {
    center: {lat: 35.397, lng: 139.644},
    zoom: 12
    });
  }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCLN0012tt2rULFYxIklKbKdYdmF0jYWi0&callback=initMap" async defer></script>



